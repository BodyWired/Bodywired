<h3>Aliments</h3>
<div class="row">
    <p class="text-center">Selectionnez une catégorie</p>
    <select class="center-block" ng-model="categorieSelected" ng-options="categorie.nom for categorie in categories"
        onChange="showList()">
    </select>
</div>
<br />
<div class="panel panel-success" id="description" hidden="true" ng-init="coefficient = 100">
    <div class="panel-heading">
        <a onClick="showDeclinaison()"><span class="glyphicon glyphicon-chevron-left"/></a>
        Description
    </div>
    <div class="panel-body">
        <p class=text-center><b>{{aliment.name}}</b></p>
        <div class="text-center">
            Valeur pour <input type="number" ng-model="coefficient"/> grammes.    
        </div>
        <table class="table table-striped">
            <tr><td>Calorie</td><td>{{nutriments.calorie.apport * coefficient}}</td></tr>
            <tr><td>Protéines</td><td>{{nutriments.proteine.apport * coefficient}}</td></tr>
            <tr><td>Eau</td><td>{{nutriments.eau.apport * coefficient}}</td></tr>
            <tr><td colspan="2"><strong>Lipides</strong></td></tr>
            <tr ng-if="nutriments.lipide.constructor === Array" ng-repeat="lipide in nutriments.lipide">
                <td>{{lipide.details}}</td><td>{{lipide.apport * coefficient}}</td>
            </tr>
            <tr<tr ng-if="nutriments.lipide.constructor != Array">
                <td>{{nutriments.lipide.details}}</td><td>{{nutriments.lipide.apport * coefficient}}</td>                
            </tr>
            <tr><td colspan="2"><strong>Glucides</strong></td></tr>
            <tr ng-if="nutriments.glucide.constructor === Array" ng-repeat="glucide in nutriments.glucide">
                <td>{{glucide.details}}</td><td>{{glucide.apport * coefficient}}</td>
            </tr>
            <tr<tr ng-if="nutriments.glucide.constructor != Array">
                <td>{{nutriments.glucide.details}}</td><td>{{nutriments.glucide.apport * coefficient}}</td>                
            </tr>
            <tr><td colspan="2"><strong>Vitamines</strong></td></tr>
            <tr ng-repeat="vitamine in nutriments.vitamines">
                <td>{{vitamine.typeVitamine}}</td><td>{{vitamine.apport * coefficient}}</td>
            </tr>
            <tr><td colspan="2"><strong>Mineraux</strong></td></tr>
            <tr ng-repeat="minerau in nutriments.mineraux">
                <td>{{minerau.typeMineral}}</td><td>{{minerau.apport * coefficient}}</td>
            </tr>
            <tr><td colspan="2"><strong>Oligo-élements</strong></td></tr>
            <tr ng-repeat="oligo in nutriments.oligoElements">
                <td>{{oligo.typeOligoElement}}</td><td>{{oligo.apport * coefficient}}</td>
            </tr>
        </table>
    </div>
</div>
<div class="panel panel-info" id="declinaison" hidden="true">
    <div class="panel-heading">
        <a onClick="showList()"><span class="glyphicon glyphicon-chevron-left"/></a>
        Déclinaison
    </div>
    <div class="panel-body">
        <table class="table table-striped">
            <tr><th>Nom</th><th>Voir</th></tr>
            <tr ng-repeat="declinaison in declinaisons">
                <td><span ng-repeat="etat in declinaison.etats">{{etat.nom}} </span></td><td><a ng-click="getNutriments(declinaison.id)" onClick="showDescription()"><span class="glyphicon glyphicon-eye-open"/></a></td>
            </tr>
        </table>
    </div>
</div>
<div class="panel panel-warning" id="table" hidden="true">
    <div class="panel-heading">Liste des aliments</div>
    <div class="panel-body">
        <table class="table table-striped">
            <tr><th>Nom</th><th>Voir</th></tr>
            <tr ng-repeat="aliment in aliments.aliments">
                <td>{{aliment.nom}}</td><td><a ng-click="getDeclinaison(aliment)" onClick="showDeclinaison()"><span class="glyphicon glyphicon-eye-open"/></a></td>
            </tr>
        </table>
    </div>
</div>
<script>
    function showList() {
        $('#table').fadeIn();
        $('#description').fadeOut();
        $('#declinaison').fadeOut();
    }
    function showDeclinaison() {
        $('#declinaison').fadeIn();
        $('#description').fadeOut();
        $('#table').fadeOut();
    }
    function showDescription() {
        $('#description').fadeIn();
        $('#declinaison').fadeOut();
        $('#table').fadeOut();
    }
</script>
